# Intelligent book management system - GenAI & FastAPI Based Application

## Overview

This project is a FastAPI application to enable users to add, retrieve, update, and delete books from a PostgreSQL database, 
generate summaries for books and provide book recommendations based on user preferences using the Llama3 model

## Table of Contents

- [Requirements](#requirements)
- [Installation](#installation)
- [Usage](#usage)


## Requirements

- **Python**: Version 3.10.16 or higher
- **FastAPI**: Web framework for building APIs
- **Uvicorn**: ASGI server for running the FastAPI application
- **Llama3** : Generative AI model

## Installation

1. **Clone the Repository**

   Open your terminal and clone the repository:

   ```bash
   git clone https://github.com/anitamourya21/py-books-management-ai.git
   cd py-books-management-ai
   ```

2. **Set up a Virtual Environment**

   Create and activate a virtual environment:

   ```bash
   python -m venv venv
   source venv/bin/activate  # On Windows use `venv\Scripts\activate`
   ```
   
OR


2. **Build and run Docker Image** 

   Command to build and run your Docker container

   ```shell
   docker build -t fastapi-ollama .
   docker run -p 8000:8000 -p 11434:11434 fastapi-ollama
   ```
   Start container

   ```shell
    docker-compose up --build
   ```

3. **Steps to update PostgreSQL config**

   Update DB connection in docker-compose.yml

   - Config for db container

   ```yaml
   POSTGRES_USER: myuser
   POSTGRES_PASSWORD: mypassword
   POSTGRES_DB: dbname
   ```
   
   - App environment variable
   
   ```yaml
   DATABASE_URL: postgresql+asyncpg://myuser:mypassword@host.docker.internal:5432/books_db 
   ```

3. **Set up Alembic for Migrations**

   - Initialize Alembic

   ```
   alembic init alembic
   ```

   - Generate Migrations (First time or after any changes)

   ```
   alembic revision --autogenerate -m "Initial migration"
   ```

   - Apply Migrations (First time or after any changes)

   ```
   alembic upgrade head
   ```


## Usage

1. **Start the Application**

   Run the FastAPI application using Uvicorn:

   ```bash
   uvicorn main:app --reload
   ```
OR


1. **Start docker containers**

   Docker image for this project will Run the FastAPI application using Uvicorn:

   ```bash
   docker-compose up --build
   ```
   
2. **Access the Application**

   Open your web browser and navigate to:

   ```
   http://127.0.0.1:8000
   ```


3. **Access the API docs generated by FastAPI**

   Open your web browser and navigate to docs page.
   Here you can test all the apis available under the application

   ```
   http://127.0.0.1:8000/docs
   ```